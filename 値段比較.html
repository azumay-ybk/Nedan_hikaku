<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>買い物アシスト</title>
<style>
  body {
    font-family: sans-serif;
    padding: 60px 16px 16px;
    max-width: 400px;
    margin: auto;
  }
  .container {
    display: flex;
    flex-direction: column;
    gap: 28px;
  }
  .item {
    border: 3px solid #ccc;
    border-radius: 12px;
    padding: 12px;
  }
  .highlight {
    border-color: green;
    background: #e8ffe8;
    border-width: 4px;
  }
  label {
    font-size: 14px;
  }
  input {
    width: 50%;
    padding: 6px;
    margin-top: 4px;
    font-size: 16px;
    font-family: 'Comic Sans MS', 'Yu Gothic', sans-serif;
  }
  .price {
    margin-top: 8px;
    font-weight: bold;
    font-size: 18px;
  }
  #resetBtn {
    position: absolute;
    top: 50px;
    right: 10px;
    padding: 8px 12px;
    font-size: 14px;
    border: none;
    border-radius: 8px;
    background: #eee;
    cursor: pointer;
  }
</style>
</head>
<body>
<button id="resetBtn">リセット</button><br><br><br>
<h2 style="position:absolute; top:10px; left:16px; font-family:'Comic Sans MS', 'Yu Gothic', sans-serif;" left:16px; font-family:'Comic Sans MS', 'Yu Gothic', sans-serif;" left:16px; font-family:'Comic Sans MS', 'Yu Gothic', sans-serif;">買い物アシスト</h2>
<div class="container" style="margin-top:25px;">
  <div id="itemA" class="item">
    <label>容量/個</label><br>
    <input type="number" id="capA" min="0" /><br>
    <label>金額</label><br>
    <input type="number" id="priceA" min="0" />
    <div class="price" id="resultA">1個あたり：- 円</div>
  </div>

  <div id="itemB" class="item">
    <label>容量/個</label><br>
    <input type="number" id="capB" min="0" /><br>
    <label>金額</label><br>
    <input type="number" id="priceB" min="0" />
    <div class="price" id="resultB">1個あたり：- 円</div>
  </div>
</div>

<script>
function calc() {
  const capA = parseFloat(document.getElementById("capA").value) || 0;
  const priceA = parseFloat(document.getElementById("priceA").value) || 0;
  const capB = parseFloat(document.getElementById("capB").value) || 0;
  const priceB = parseFloat(document.getElementById("priceB").value) || 0;

  const itemA = document.getElementById("itemA");
  const itemB = document.getElementById("itemB");

  let perA = capA > 0 ? priceA / capA : null;
  let perB = capB > 0 ? priceB / capB : null;

  document.getElementById("resultA").textContent = perA !== null ? `1個あたり：${perA.toFixed(2)} 円` : "1個あたり：- 円";
  document.getElementById("resultB").textContent = perB !== null ? `1個あたり：${perB.toFixed(2)} 円` : "1個あたり：- 円";

  itemA.classList.remove("highlight");
  itemB.classList.remove("highlight");

  if (perA !== null && perB !== null) {
    if (perA < perB) itemA.classList.add("highlight");
    else if (perB < perA) itemB.classList.add("highlight");
  }
}

document.querySelectorAll("input").forEach(inp => inp.addEventListener("input", calc));

document.getElementById("resetBtn").addEventListener("click", () => {
  document.querySelectorAll("input").forEach(i => i.value = "");
  document.getElementById("resultA").textContent = "1個あたり：- 円";
  document.getElementById("resultB").textContent = "1個あたり：- 円";
  document.getElementById("itemA").classList.remove("highlight");
  document.getElementById("itemB").classList.remove("highlight");
});
</script>
</body>
</html>
